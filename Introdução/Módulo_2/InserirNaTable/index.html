<!DOCTYPE html>
<html>
  <head>
    <!--Import Google Icon Font-->
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />
    <!--Import materialize.css-->
    <link
      type="text/css"
      rel="stylesheet"
      href="css/materialize.min.css"
      media="screen,projection"
    />

    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <style type="text/css">
      .underlined {
        border-bottom: 3px solid currentColor;
      }

      .reprovado {
        background-color: rgb(243, 159, 159);
        color: red;
      }

      .aprovado {
        background-color: rgb(195, 226, 148);
        background-color: green;
      }
    </style>
  </head>

  <body>
    <div class="container">
      <div
        class="hero center card-panel materialize-red darken-4 white-text z-depth-3"
      >
        <h1 class="materialize-red-text text-lighten-3">
          Curso Javascript Completo
        </h1>
      </div>
      <h2 class="materialize-red-text text-lighten-2 underlined">
        Dados de Alunos
      </h2>

      <table class="striped">
        <thead>
          <tr>
            <th>Nome</th>
            <th>Nota 1</th>
            <th>Nota 2</th>
            <th>Nota 3</th>
            <th>Nota 4</th>
            <th>Média</th>
            <th>Status</th>
          </tr>
        </thead>

        <tbody></tbody>
      </table>
    </div>

    <!--JavaScript at end of body for optimized loading-->
    <!-- <script type="text/javascript" src="js/materialize.min.js"></script> -->

    <script>
      const alunos = [
        { nome: "Daniel", notas: [10, 3, 7.5, 3] },
        { nome: "Maria", notas: [10, 9, 3, 9.5] },
        { nome: "João", notas: [10, 4.5, 1, 3.5] },
        { nome: "Joana", notas: [1, 3, 9, 1.5] },
        { nome: "José", notas: [10, 4.5, 7, 3] },
        { nome: "Arnaldo", notas: [10, 4.5, 7, 3] },
        { nome: "Lucas", notas: [4.5, 9, 8, 3] },
        { nome: "Luana", notas: [3, 7, 9, 3] },
        { nome: "Beatriz", notas: [10, 4, 7, 9] },
        { nome: "Sergio", notas: [4.5, 9.5, 10, 2] },
      ];

      function aprovado(media) {
        if (media >= 6) {
          return "Aprovado";
        } else {
          return "Reprovado";
        }
      }

      function classAdd(media) {
        if (media >= 6) {
          return "class = 'aprovado'";
        } else {
          return "class = 'reprovado'";
        }
      }

      const html = alunos
        .map(
          (aluno) => `
                      <tr>
                        <th>${aluno.nome}</th>
                        <th>${aluno.notas[0]}</th>
                        <th>${aluno.notas[1]}</th>
                        <th>${aluno.notas[2]}</th>
                        <th>${aluno.notas[3]}</th>
                        <th>${
                          aluno.notas.reduce((a, b) => a + b, 0) /
                          aluno.notas.length
                        }</th>
                        <th ${classAdd(
                          aluno.notas.reduce((a, b) => a + b, 0) /
                            aluno.notas.length
                        )}>${aprovado(
            aluno.notas.reduce((a, b) => a + b, 0) / aluno.notas.length
          )}</th>
                      </tr>
                  `
        )
        .join("");

      document.querySelector("tbody").innerHTML = html;
    </script>
  </body>
</html>
